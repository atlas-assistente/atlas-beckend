<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Atlas â€¢ Seu Assistente Pessoal</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght=300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div id="app">
    <!-- TELA LOGIN -->
    <div id="loginScreen" class="screen active">
      <div class="login-container">
        <div class="login-header">
          <div class="logo">ATLAS</div>
          <div class="tagline">Seu cÃ©rebro externo</div>
        </div>
        
        <div class="login-card">
          <h2>Entrar no Atlas</h2>
          <p class="subtitle">Controle sua agenda e finanÃ§as pelo WhatsApp</p>
          
          <div class="form-group">
            <label>Seu e-mail</label>
            <input type="email" id="loginEmail" placeholder="seu@email.com">
          </div>
          
          <button id="btnRequestCode" class="btn-primary">Enviar cÃ³digo</button>
          
          <div id="codeSection" class="hidden">
            <div class="form-group">
              <label>CÃ³digo de acesso (cheque seu e-mail)</label>
              <input type="text" id="loginCode" placeholder="123456" maxlength="6">
            </div>
            <button id="btnLogin" class="btn-primary">Entrar</button>
          </div>
          
          <div id="loginMessage" class="message"></div>
          
          <div class="login-features">
            <div class="feature">
              <div class="feature-icon">ðŸ“…</div>
              <div class="feature-text">Agenda automÃ¡tica</div>
            </div>
            <div class="feature">
              <div class="feature-icon">ðŸ’°</div>
              <div class="feature-text">Controle financeiro</div>
            </div>
            <div class="feature">
              <div class="feature-icon">ðŸ¤–</div>
              <div class="feature-text">Via WhatsApp</div>
            </div>
          </div>
        </div>
        
        <div class="login-footer">
          <div class="demo-note">
            <strong>Demo:</strong> Use o simulador no painel admin para testar
          </div>
          <div class="api-status">
            API: <span id="apiStatus">â€”</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- DASHBOARD USUÃRIO -->
    <div id="dashboardScreen" class="screen">
      <div class="dashboard-header">
        <div class="header-left">
          <div class="logo-small">A</div>
          <div class="user-info">
            <div id="userName" class="user-name">â€”</div>
            <div id="userPlan" class="user-plan">FREE</div>
          </div>
        </div>
        
        <div class="header-right">
          <button id="btnLogout" class="btn-logout">Sair</button>
        </div>
      </div>
      
      <div class="dashboard-content">
        <!-- BARRA LATERAL -->
        <div class="sidebar">
          <nav class="nav-menu">
            <a href="#dashboard" class="nav-item active" data-view="dashboard">
              <span class="nav-icon">ðŸ“Š</span>
              <span class="nav-text">Dashboard</span>
            </a>
            <a href="#agenda" class="nav-item" data-view="agenda">
              <span class="nav-icon">ðŸ“…</span>
              <span class="nav-text">Agenda</span>
            </a>
            <a href="#financas" class="nav-item" data-view="financas">
              <span class="nav-icon">ðŸ’°</span>
              <span class="nav-text">FinanÃ§as</span>
            </a>
            <a href="#whatsapp" class="nav-item" data-view="whatsapp">
              <span class="nav-icon">ðŸ’¬</span>
              <span class="nav-text">WhatsApp</span>
            </a>
          </nav>
          
          <div class="sidebar-stats">
            <div class="stat">
              <div class="stat-label">Eventos hoje</div>
              <div id="statEventsToday" class="stat-value">0</div>
            </div>
            <div class="stat">
              <div class="stat-label">Saldo</div>
              <div id="statBalance" class="stat-value">R$ 0</div>
            </div>
          </div>
        </div>
        
        <!-- CONTEÃšDO PRINCIPAL -->
        <div class="main-content">
          <!-- VIEW: DASHBOARD -->
          <div id="viewDashboard" class="view active">
            <div class="view-header">
              <h1>Dashboard</h1>
              <div class="view-subtitle">VisÃ£o geral da sua organizaÃ§Ã£o</div>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-card-icon">ðŸ“…</div>
                <div class="stat-card-content">
                  <div class="stat-card-value" id="totalEvents">0</div>
                  <div class="stat-card-label">Eventos agendados</div>
                </div>
              </div>
              
              <div class="stat-card">
                <div class="stat-card-icon">ðŸ’°</div>
                <div class="stat-card-content">
                  <div class="stat-card-value" id="totalIncome">R$ 0</div>
                  <div class="stat-card-label">Receitas</div>
                </div>
              </div>
              
              <div class="stat-card">
                <div class="stat-card-icon">ðŸ’¸</div>
                <div class="stat-card-content">
                  <div class="stat-card-value" id="totalExpenses">R$ 0</div>
                  <div class="stat-card-label">Despesas</div>
                </div>
              </div>
              
              <div class="stat-card">
                <div class="stat-card-icon">ðŸ¤–</div>
                <div class="stat-card-content">
                  <div class="stat-card-value" id="totalMessages">0</div>
                  <div class="stat-card-label">Mensagens</div>
                </div>
              </div>
            </div>
            
            <div class="content-grid">
              <!-- CALENDÃRIO -->
              <div class="content-card">
                <div class="card-header">
                  <h3>CalendÃ¡rio</h3>
                  <div class="card-actions">
                    <button id="btnPrevMonth" class="btn-icon">â—€</button>
                    <span id="currentMonth">MÃªs atual</span>
                    <button id="btnNextMonth" class="btn-icon">â–¶</button>
                  </div>
                </div>
                <div id="calendar" class="calendar">
                  <!-- Gerado por JavaScript -->
                </div>
              </div>
              
              <!-- EVENTOS PRÃ“XIMOS -->
              <div class="content-card">
                <div class="card-header">
                  <h3>PrÃ³ximos Eventos</h3>
                  <button id="btnAddEvent" class="btn-small">+ Novo</button>
                </div>
                <div id="upcomingEvents" class="events-list">
                  <!-- Gerado por JavaScript -->
                </div>
              </div>
              
              <!-- TRANSAÃ‡Ã•ES RECENTES -->
              <div class="content-card">
                <div class="card-header">
                  <h3>TransaÃ§Ãµes Recentes</h3>
                  <button id="btnAddTransaction" class="btn-small">+ Nova</button>
                </div>
                <div id="recentTransactions" class="transactions-list">
                  <!-- Gerado por JavaScript -->
                </div>
              </div>
              
              <!-- GRÃFICO FINANCEIRO -->
              <div class="content-card wide">
                <div class="card-header">
                  <h3>Resumo Financeiro</h3>
                  <div class="period-selector">
                    <select id="periodSelect">
                      <option value="month">Este mÃªs</option>
                      <option value="last_month">MÃªs passado</option>
                      <option value="year">Este ano</option>
                    </select>
                  </div>
                </div>
                <div id="financeChart" class="chart-container">
                  <canvas id="chartCanvas"></canvas>
                </div>
              </div>
            </div>
          </div>
          
          <!-- VIEW: AGENDA -->
          <div id="viewAgenda" class="view">
            <div class="view-header">
              <h1>Agenda</h1>
              <div class="view-subtitle">Gerencie seus compromissos</div>
            </div>
            
            <div class="agenda-controls">
              <div class="view-toggle">
                <button class="btn-view active" data-view="list">ðŸ“‹ Lista</button>
                <button class="btn-view" data-view="calendar">ðŸ“… CalendÃ¡rio</button>
              </div>
              <button id="btnNewEvent" class="btn-primary">+ Novo Evento</button>
            </div>
            
            <div id="agendaList" class="agenda-list">
              <!-- Eventos carregados -->
            </div>
            
            <div id="agendaCalendar" class="agenda-calendar hidden">
              <!-- CalendÃ¡rio detalhado -->
            </div>
          </div>
          
          <!-- VIEW: FINANÃ‡AS -->
          <div id="viewFinancas" class="view">
            <div class="view-header">
              <h1>FinanÃ§as</h1>
              <div class="view-subtitle">Controle suas receitas e despesas</div>
            </div>
            
            <div class="finance-summary">
              <div class="summary-card income">
                <div class="summary-label">Receitas</div>
                <div id="totalReceitas" class="summary-value">R$ 0</div>
              </div>
              <div class="summary-card expense">
                <div class="summary-label">Despesas</div>
                <div id="totalDespesas" class="summary-value">R$ 0</div>
              </div>
              <div class="summary-card balance">
                <div class="summary-label">Saldo</div>
                <div id="saldoTotal" class="summary-value">R$ 0</div>
              </div>
            </div>
            
            <div class="finance-controls">
              <div class="filter-group">
                <select id="filterMonth">
                  <option value="all">Todos os meses</option>
                  <!-- Meses gerados por JS -->
                </select>
                <select id="filterCategory">
                  <option value="all">Todas categorias</option>
                  <option value="alimentacao">AlimentaÃ§Ã£o</option>
                  <option value="transporte">Transporte</option>
                  <option value="moradia">Moradia</option>
                  <option value="lazer">Lazer</option>
                  <option value="renda">Renda</option>
                  <option value="outros">Outros</option>
                </select>
              </div>
              <div class="action-group">
                <button id="btnExport" class="btn-secondary">Exportar</button>
                <button id="btnNewTransaction" class="btn-primary">+ TransaÃ§Ã£o</button>
              </div>
            </div>
            
            <div id="transactionsTable" class="transactions-table">
              <!-- Tabela gerada por JS -->
            </div>
          </div>
          
          <!-- VIEW: WHATSAPP -->
          <div id="viewWhatsapp" class="view">
            <div class="view-header">
              <h1>WhatsApp</h1>
              <div class="view-subtitle">Simulador de mensagens</div>
            </div>
            
            <div class="whatsapp-container">
              <div class="whatsapp-header">
                <div class="whatsapp-avatar">AT</div>
                <div class="whatsapp-info">
                  <div class="whatsapp-name">Atlas Bot</div>
                  <div class="whatsapp-status">Online â€¢ Simulador</div>
                </div>
              </div>
              
              <div id="chatMessages" class="whatsapp-messages">
                <div class="message bot">
                  <div class="message-content">
                    OlÃ¡! Sou o Atlas, seu assistente pessoal.
                    <div class="message-examples">
                      <strong>Exemplos:</strong><br>
                      â€¢ "pagar aluguel 1500 dia 05"<br>
                      â€¢ "mÃ©dico amanhÃ£ 14h"<br>
                      â€¢ "recebi 3200 salÃ¡rio"
                    </div>
                  </div>
                  <div class="message-time">Agora</div>
                </div>
              </div>
              
              <div class="whatsapp-input">
                <input type="text" id="chatInput" placeholder="Digite uma mensagem...">
                <button id="btnSendMessage" class="btn-primary">Enviar</button>
              </div>
              
              <div class="whatsapp-tips">
                <div class="tip">
                  ðŸ’¡ <strong>Dica:</strong> O bot entende linguagem natural e salva automaticamente.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- MODAL: NOVO EVENTO -->
    <div id="modalEvent" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Novo Evento</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>TÃ­tulo</label>
            <input type="text" id="eventTitle" placeholder="Ex: ReuniÃ£o com cliente">
          </div>
          <div class="form-group">
            <label>DescriÃ§Ã£o (opcional)</label>
            <textarea id="eventDescription" rows="2"></textarea>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Data</label>
              <input type="date" id="eventDate">
            </div>
            <div class="form-group">
              <label>Hora (opcional)</label>
              <input type="time" id="eventTime">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary modal-close">Cancelar</button>
          <button id="btnSaveEvent" class="btn-primary">Salvar Evento</button>
        </div>
      </div>
    </div>
    
    <!-- MODAL: NOVA TRANSAÃ‡ÃƒO -->
    <div id="modalTransaction" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Nova TransaÃ§Ã£o</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Tipo</label>
            <div class="type-toggle">
              <button class="type-btn active" data-type="income">Receita</button>
              <button class="type-btn" data-type="expense">Despesa</button>
            </div>
          </div>
          <div class="form-group">
            <label>DescriÃ§Ã£o</label>
            <input type="text" id="transactionDescription" placeholder="Ex: SalÃ¡rio, Aluguel, Mercado">
          </div>
          <div class="form-group">
            <label>Valor (R$)</label>
            <input type="number" id="transactionValue" step="0.01" placeholder="0,00">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Categoria</label>
              <select id="transactionCategory">
                <option value="renda">Renda</option>
                <option value="alimentacao">AlimentaÃ§Ã£o</option>
                <option value="transporte">Transporte</option>
                <option value="moradia">Moradia</option>
                <option value="lazer">Lazer</option>
                <option value="outros">Outros</option>
              </select>
            </div>
            <div class="form-group">
              <label>Data</label>
              <input type="date" id="transactionDate">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary modal-close">Cancelar</button>
          <button id="btnSaveTransaction" class="btn-primary">Salvar TransaÃ§Ã£o</button>
        </div>
      </div>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>
</html>
